Greeniq4

–û–ø–∏—Å–∞–Ω–∏–µ
========

–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å iQBot API –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–∑ iQChannels –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É.

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π
===============================

**–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.**

**–î–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å¬†Content-Type: application/json**

### **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| –ú–µ—Ç–æ–¥ | POST |  |
| –ü—É—Ç—å | /api/v1/auth/login/basic/default |  |
| –ó–∞–ø—Ä–æ—Å | | –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | | --- | --- | --- | --- | | email | String | –î–∞ | –î–∞–Ω–Ω—ã–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ,  –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–π—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–∞—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã | | password | String | –î–∞ | –î–∞–Ω–Ω—ã–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ,  –∏—Å–ø–æ–ª—å–∑—É—é—â–µ–π—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–∞—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã | |  |
| –û—Ç–≤–µ—Ç | | –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | | --- | --- | --- | --- | | status | String | –ù–µ—Ç | –°—Ç–∞—Ç—É—Å –∑–∞–ø—Ä–æ—Å–∞. –ï—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, —Ç–æ success | | message | String | –ù–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø—Ä–æ—Å–∞  –ï—Å–ª–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç¬†Login¬†successful | | payload |  |  | –ë–ª–æ–∫ | | jwt | String | –î–∞ | –¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ | | exp | String | –î–∞ | –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ | |  |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

js{
"email": "superbot@bot.ru",
"password": "password"
}

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**

js{
"status": "success",
"message": "Login successful",
"payload": {
"jwt": "eyJhbGciOiJIUzI.......w3SfREY",
"exp": 3600000
}
}

### **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| --- | --- | --- |
| –ú–µ—Ç–æ–¥ | POST |  |
| –ü—É—Ç—å | api/v1/bots/***chat-bank***/converse/***sid***/secured | botID - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç-–±–æ—Ç–∞ –≤ –±–æ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ  sid - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –¥–∏–∞–ª–æ–≥–∞ |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | Bearer | –¢–æ–∫–µ–Ω –±–µ—Ä–µ–º –∏–∑ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ |
| –ó–∞–ø—Ä–æ—Å | | –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | | --- | --- | --- | --- | | type | string | –¥–∞ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ–≥–¥–∞ "text" | | ``` text ``` | string | –¥–∞ | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è | | payload | string | –ù–µ—Ç | –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–Ω–æ–ø–æ–∫ –∏–ª–∏ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–∑ payload –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ | |  |
| –û—Ç–≤–µ—Ç | | –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | | --- | --- | --- | --- | | ``` type ``` | string | –î–∞ | –¢–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è. –ú–æ–∂–µ—Ç –±—ã—Ç—å text, card, carousel, single-choice, | | ``` text ``` | string | –î–∞ | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è | | groupid | string | –ù–µ—Ç | –ü–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –Ω–∞ –≥—Ä—É–ø–ø—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ | | operatorid | string | –ù–µ—Ç | –ü–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ | | closedialog | boolean | –ù–µ—Ç | –ó–∞–∫—Ä—ã—Ç–∏–µ –¥–∏–∞–ª–æ–≥–∞ | | isDropdown | boolean | –ù–µ—Ç | –ü—Ä–∏–∑–Ω–∞–∫ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ (–ø—Ä–∏ type = singlechoice). –ï—Å–ª–∏ TRUE - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫, –µ—Å–ª–∏ FALSE - –∫–Ω–æ–ø–∫–∏. | | dropdownPlaceholder | string | –ù–µ—Ç | –ó–∞–≥–ª—É—à–∫–∞/–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ | | skill | string | –ù–µ—Ç | –¢–∏–ø –Ω–∞–≤—ã–∫–∞ | | ``` title ``` | string | –ù–µ—Ç | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –∫–∞—Ä—Ç–∏–Ω–∫–∏ | | ``` image ``` | string | –ù–µ—Ç | –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É | | choices | –ë–ª–æ–∫ | –î–∞ (–ø—Ä–∏ "type": "single-choice") | –°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∏–ª–∏ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞   | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | | --- | --- | --- | --- | | title | string | –î–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ | | value | string | –î–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | | | ``` actions ``` | –ë–ª–æ–∫ | –î–∞, –ø—Ä–∏¬†"type":¬†"card" | –°–ø–∏—Å–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π   | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | | --- | --- | --- | --- | | ``` title ``` | string | –î–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ | | ``` action ``` | string | –î–∞ | –î–µ–π—Å—Ç–≤–∏–µ. –ú–æ–∂–µ—Ç –±—ã—Ç—å:   ``` Postback URL ``` | | ``` payload ``` | string | –î–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ - –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –±–æ—Ç—É –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É | | | ``` items ``` | –ë–ª–æ–∫ | –î–∞, –ø—Ä–∏  ``` "type": "carousel" ``` | –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ actions | |  |

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:

js{
"type": "text",
"text": "–î–æ –∫–æ—Ç–æ—Ä–æ–≥–æ —á–∞—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–∞–Ω–∫?"
}

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

js{
"responses": [
{
"type": "text",
"text": "–ü–µ—Ä–µ–∫–ª—é—á–∞—é –≤–∞—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞",
"markdown": true,
"groupid": "100"
}
]
}

##### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —Å single-choice:

js {
"type": "single-choice",
"skill": "choice",
"workflow": {},
"text": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!\n\n–Ø –±–æ—Ç-–±–∞–Ω–∫ IQBankBot, –≤–∞—à –ª–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –∏ –±–∞–Ω–∫ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ!\n\n–ß—Ç–æ–±—ã —Å–æ–≤–µ—Ä—à–∏—Ç—å –ª—é–±—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–ø–æ–ø–æ–ª–Ω–∏—Ç—å, –ø–µ—Ä–µ–≤–µ—Å—Ç–∏, –∑–∞–ø—Ä–æ—Å–∏—Ç—å –≤—ã–ø–∏—Å–∫—É –∏ –ø—Ä–æ—á–µ–µ), –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –º–Ω–µ –≤ —á–∞—Ç üòâ\n\n–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–£–∑–Ω–∞—Ç—å –æ–± IQBankBot\", —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –æ–±–æ –º–Ω–µ. –ê –µ—Å–ª–∏ —Ç—ã —É–∂–µ –∫–ª–∏–µ–Ω—Ç –±–∞–Ω–∫–∞, –≤—ã–±–µ—Ä–∏ ¬´–Ø –∫–ª–∏–µ–Ω—Ç IQBank¬ª.",
"isDropdown": true,
"dropdownPlaceholder": "Select...",
"choices": [
{
"title": "–Ø –∫–ª–∏–µ–Ω—Ç IQBank",
"value": "auth\_client"
},
{
"title": "–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å",
"value": "have\_question"
},
{
"title": "–£–∑–Ω–∞—Ç—å –æ–± IQBankBot",
"value": "about\_iqbank"
}
],
"markdown": true,
"typing": true
}

##### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —Å¬†"type":¬†"card"

js{
"responses": [
{
"type": "text",
"workflow": {},
"text": "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ!",
"markdown": true,
"typing": true
},
{
"type": "card",
"title": "Visa Gold -7039\n–û—Å—Ç–∞—Ç–æ–∫: 8 973,00 RUR",
"image": "https://iqbot.iqstore.ru/api/v1/bots/chat-bank/media/5lgn648ggh8pxnejfn0y-bank-mir-cutted.png",
"actions": [
{
"title": "–î–µ–π—Å—Ç–≤–∏—è —Å –∫–∞—Ä—Ç–æ–π",
"action": "Postback",
"payload": "locked-action"
}
]
},
{
"type": "card",
"title": "–ê–≤–∞–Ω–≥–∞—Ä–¥ - RUR -8775\n–û—Å—Ç–∞—Ç–æ–∫: 217,49 RUR",
"image": "https://iqbot.iqstore.ru/api/v1/bots/chat-bank/media/5lgn648ggh8pxnejfn0y-bank-mir-cutted.png",
"actions": [
{
"title": "–î–µ–π—Å—Ç–≤–∏—è —Å –∫–∞—Ä—Ç–æ–π",
"action": "Postback",
"payload": "locked-action"
}
]
},
{
"type": "card",
"title": "–ê–≤–∞–Ω–≥–∞—Ä–¥ - RUR -8042\n–û—Å—Ç–∞—Ç–æ–∫: 2 186,46 RUR",
"image": "https://iqbot.iqstore.ru/api/v1/bots/chat-bank/media/5lgn648ggh8pxnejfn0y-bank-mir-cutted.png",
"actions": [
{
"title": "–î–µ–π—Å—Ç–≤–∏—è —Å –∫–∞—Ä—Ç–æ–π",
"action": "Postback",
"payload": "locked-action"
}
]
}
]
}

##### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ —Å¬†"type":¬†"carousel"

js{
"responses": [
{
"type": "text",
"workflow": {},
"text": "–í—ã–±–µ—Ä–∏ –≤–∏–¥ –∫–∞—Ä—Ç—ã",
"markdown": true,
"typing": true
},
{
"type": "carousel",
"workflow": {},
"items": [
{
"title": "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è",
"subtitle": "",
"image": "https://iqbot.iqstore.ru/api/v1/bots/chat-bank/media/dwl4nqndn7nffggro1cm-bank-mir.png",
"actions": [
{
"action": "Postback",
"title": "–í—ã–ø—É—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç—É \"–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è\"",
"text": "",
"payload": "debet-card-mir-p"
}
]
},
{
"title": "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
"image": "https://iqbot.iqstore.ru/api/v1/bots/chat-bank/media/2x1zhafe6q861oku85b0-mir-card.png",
"actions": [
{
"action": "Postback",
"title": "–í—ã–ø—É—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç—É \"–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏\"",
"text": "",
"payload": "debet-card-mir-v"
}
]
}
]
}
]
}